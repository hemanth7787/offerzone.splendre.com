(function(e){function t(t){for(var c,r,o=t[0],s=t[1],i=t[2],f=0,d=[];f<o.length;f++)r=o[f],u[r]&&d.push(u[r][0]),u[r]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,r=1;r<n.length;r++){var o=n[r];0!==u[o]&&(c=!1)}c&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var c={},r={app:0},u={app:0},a=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-22e569f5":"b008dee3","chunk-2d0a400c":"21944efd","chunk-2d0a443e":"b870f3fd","chunk-2d0ab2eb":"ef70f06c","chunk-2d0ae5e6":"b03bfb22","chunk-2d0ae943":"5d376a28","chunk-2d0b1bf6":"0c4c6294","chunk-2d0b59e9":"5d40a692","chunk-2d0ba708":"a4b7e399","chunk-2d0aab88":"4f33d786","chunk-2d0c4303":"a071ce47","chunk-2d0d3e27":"4bc4d08d","chunk-2d0de2d9":"ab4dd2ae","chunk-2d0de6aa":"f9410fc7","chunk-2d0e1d93":"4d1156e9","chunk-2d0e8c24":"af74c695","chunk-2d0f06bd":"4e44dd26","chunk-2d208124":"4544ab17","chunk-2d2131a8":"514953f5","chunk-2d21444c":"943d150d","chunk-2d2183eb":"d85a230f","chunk-2d21e1d3":"98c30e19","chunk-2d21e6d0":"c6ee2023","chunk-2d21eae7":"f8ffc710","chunk-2d222779":"6d7b6388","chunk-2d224eb7":"9ad7510d","chunk-2d226319":"0b19da2e","chunk-2d22c303":"ce0e7a1f","chunk-2d22d610":"39860a5b","chunk-2d23777b":"bab4a2ed","chunk-40f4cc33":"223a0807","chunk-2d0f0c1b":"7af51cd6","chunk-a9adb17c":"434f5402","chunk-4d742882":"0db5f965","chunk-54244171":"5334bc24","chunk-554cb91d":"b77068aa","chunk-6598cd74":"ce5940a9","chunk-6bef0c00":"28641129","chunk-6eefd326":"40f199fc","chunk-81239346":"59462161","chunk-8e2defe8":"92e1454d","chunk-9a9e7fd4":"59cf0827","chunk-2d0d093a":"b422b2f2","chunk-479af0ed":"093ecc6b","chunk-c7051a8e":"9d13d79f"}[e]+".js"}function s(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-4d742882":1,"chunk-554cb91d":1,"chunk-6bef0c00":1,"chunk-6eefd326":1,"chunk-81239346":1,"chunk-8e2defe8":1,"chunk-479af0ed":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-22e569f5":"31d6cfe0","chunk-2d0a400c":"31d6cfe0","chunk-2d0a443e":"31d6cfe0","chunk-2d0ab2eb":"31d6cfe0","chunk-2d0ae5e6":"31d6cfe0","chunk-2d0ae943":"31d6cfe0","chunk-2d0b1bf6":"31d6cfe0","chunk-2d0b59e9":"31d6cfe0","chunk-2d0ba708":"31d6cfe0","chunk-2d0aab88":"31d6cfe0","chunk-2d0c4303":"31d6cfe0","chunk-2d0d3e27":"31d6cfe0","chunk-2d0de2d9":"31d6cfe0","chunk-2d0de6aa":"31d6cfe0","chunk-2d0e1d93":"31d6cfe0","chunk-2d0e8c24":"31d6cfe0","chunk-2d0f06bd":"31d6cfe0","chunk-2d208124":"31d6cfe0","chunk-2d2131a8":"31d6cfe0","chunk-2d21444c":"31d6cfe0","chunk-2d2183eb":"31d6cfe0","chunk-2d21e1d3":"31d6cfe0","chunk-2d21e6d0":"31d6cfe0","chunk-2d21eae7":"31d6cfe0","chunk-2d222779":"31d6cfe0","chunk-2d224eb7":"31d6cfe0","chunk-2d226319":"31d6cfe0","chunk-2d22c303":"31d6cfe0","chunk-2d22d610":"31d6cfe0","chunk-2d23777b":"31d6cfe0","chunk-40f4cc33":"31d6cfe0","chunk-2d0f0c1b":"31d6cfe0","chunk-a9adb17c":"31d6cfe0","chunk-4d742882":"41c3f70c","chunk-54244171":"31d6cfe0","chunk-554cb91d":"dae87c30","chunk-6598cd74":"31d6cfe0","chunk-6bef0c00":"5413d9a1","chunk-6eefd326":"b8567ae7","chunk-81239346":"6fb0ef0d","chunk-8e2defe8":"bcd49107","chunk-9a9e7fd4":"31d6cfe0","chunk-2d0d093a":"31d6cfe0","chunk-479af0ed":"961fb5da","chunk-c7051a8e":"31d6cfe0"}[e]+".css",u=s.p+c,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var i=a[o],f=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(f===c||f===u))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){i=d[o],f=i.getAttribute("data-href");if(f===c||f===u)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var c=t&&t.target&&t.target.src||u,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete r[e],l.parentNode.removeChild(l),n(a)},l.href=u;var h=document.getElementsByTagName("head")[0];h.appendChild(l)}).then(function(){r[e]=0}));var c=u[e];if(0!==c)if(c)t.push(c[2]);else{var a=new Promise(function(t,n){c=u[e]=[t,n]});t.push(c[2]=a);var i,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=o(e),i=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=u[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+c+": "+r+")");a.type=c,a.request=r,n[1](a)}u[e]=void 0}};var d=setTimeout(function(){i({type:"timeout",target:f})},12e4);f.onerror=f.onload=i,document.head.appendChild(f)}return Promise.all(t)},s.m=e,s.c=c,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(n,c,function(t){return e[t]}.bind(null,c));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],f=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=f;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"161f":function(e,t,n){"use strict";function c(){var e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("user_atkn"));return e&&t?{"Auth-Token":t,"content-type":"application/json"}:{}}n.d(t,"a",function(){return c})},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("f466"),n("579f"),n("587a");var c=n("a026"),r=n("7bb1"),u=n("5f5b"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},o=[],s=n("cebc"),i=n("2f62"),f={name:"app",computed:Object(s["a"])({},Object(i["c"])({alert:function(e){return e.alert}})),methods:Object(s["a"])({},Object(i["b"])({clearAlert:"alert/clear"})),watch:{$route:function(e,t){this.clearAlert()}}},d=f,l=(n("5c0b"),n("2877")),h=Object(l["a"])(d,a,o,!1,null,null,null),m=h.exports,p=n("a18c"),g={type:null,message:null},k={success:function(e,t){var n=e.commit;n("success",t)},error:function(e,t){var n=e.commit;n("error",t)},clear:function(e,t){var n=e.commit;n("success",t)}},b={success:function(e,t){e.type="alert-success",e.message=t},error:function(e,t){e.type="alert-danger",e.message=t},clear:function(e){e.type=null,e.message=null}},v={namespaced:!0,state:g,actions:k,mutations:b},y=n("161f"),S={login:w,logout:A,register:T},O="user_atkn",j="user",P="https://prod.endpoints.splendre-web-services.cloud.goog/";function w(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(P,"ig-iam/api/get-token/"),n).then(N).then(function(t){return t.token&&(localStorage.setItem(O,JSON.stringify(t.token)),localStorage.setItem(j,JSON.stringify(e))),e})}function A(){localStorage.removeItem(O),localStorage.removeItem(j)}function T(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(P,"/users/register"),t).then(N)}function N(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(A(),location.reload(!0));n&&n.message||e.statusText;return Promise.reject(n)}return n})}var _={createOffer:J,listOffer:C},F="https://prod.endpoints.splendre-web-services.cloud.goog/";function C(){var e={method:"get",headers:Object(s["a"])({},Object(y["a"])(),{"Content-Type":"application/json"})};return fetch("".concat(F,"ig-offer-portal/api/offers/"),e).then(x)}function J(e){e["_media_uri"]=e["media_full_url"];var t={method:"POST",headers:Object(y["a"])(),body:JSON.stringify(e)};return fetch("".concat(F,"ig-offer-portal/api/offers/"),t).then(x)}function x(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){console.log(e.status),401!==e.status&&403!==e.status||p["a"].push("login");var c=n||e.statusText;return Promise.reject(c)}return n})}var I={prePayment:q,postPayment:R},E="https://prod.endpoints.splendre-web-services.cloud.goog/";function q(e){var t={method:"POST",headers:Object(y["a"])(),body:JSON.stringify({offer_id:e})};return fetch("".concat(E,"ig-offer-portal/api/payment/"),t).then(B)}function R(e){var t={method:"POST",headers:Object(y["a"])(),body:JSON.stringify(e)};return fetch("".concat(E,"ig-offer-portal/api/payment-success/"),t).then(B)}function B(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){console.log(e.status),401!==e.status&&403!==e.status||p["a"].push("login");var c=n||e.statusText;return Promise.reject(c)}return n})}var L=JSON.parse(localStorage.getItem("user")),M=L?{status:{loggedIn:!0},user:L}:{status:{},user:null},D={login:function(e,t){var n=e.dispatch,c=e.commit,r=t.username,u=t.password;c("loginRequest",{username:r}),S.login(r,u).then(function(e){c("loginSuccess",e),p["a"].push("/home")},function(e){c("loginFailure",e),n("alert/error",e[0],{root:!0})})},logout:function(e){var t=e.commit;S.logout(),t("logout")},register:function(e,t){var n=e.dispatch,c=e.commit;c("registerRequest",t),S.register(t).then(function(e){c("registerSuccess",e),p["a"].push("/login"),setTimeout(function(){n("alert/success","Registration successful",{root:!0})})},function(e){c("registerFailure",e),n("alert/error",e,{root:!0})})}},H={loginRequest:function(e,t){e.status={loggingIn:!0},e.user=t},loginSuccess:function(e,t){e.status={loggedIn:!0},e.user=t},loginFailure:function(e){e.status={},e.user=null},logout:function(e){e.status={},e.user=null},registerRequest:function(e,t){e.status={registering:!0}},registerSuccess:function(e,t){e.status={}},registerFailure:function(e,t){e.status={}}},$={namespaced:!0,state:M,actions:D,mutations:H},K=n("a8db"),U=(n("6b54"),{all:{}}),z={getAll:function(e){var t=e.commit;t("getAllRequest"),S.getAll().then(function(e){return t("getAllSuccess",e)},function(e){return t("getAllFailure",e)})},delete:function(e,t){var n=e.commit;n("deleteRequest",t),S.delete(t).then(function(e){return n("deleteSuccess",t)},function(e){return n("deleteFailure",{id:t,error:e.toString()})})}},G={getAllRequest:function(e){e.all={loading:!0}},getAllSuccess:function(e,t){e.all={items:t}},getAllFailure:function(e,t){e.all={error:t}},deleteRequest:function(e,t){e.all.items=e.all.items.map(function(e){return e.id===t?Object(s["a"])({},e,{deleting:!0}):e})},deleteSuccess:function(e,t){e.all.items=e.all.items.filter(function(e){return e.id!==t})},deleteFailure:function(e,t){var n=t.id,c=t.error;e.all.items=e.items.map(function(e){if(e.id===n){e.deleting;var t=Object(K["a"])(e,["deleting"]);return Object(s["a"])({},t,{deleteError:c})}return e})}},Q={namespaced:!0,state:U,actions:z,mutations:G},V={offer:{},offers:[]},W={createOffer:function(e,t){var n=e.dispatch,c=e.commit;_.createOffer(t).then(function(e){p["a"].push("/home"),setTimeout(function(){c("offerCreateSuccess",e),n("alert/success","Offer created successfully",{root:!0})})},function(e){c("offerCreateFailure",e),n("alert/error",e,{root:!0})})},listOffers:function(e){var t=e.commit;_.listOffer().then(function(e){return t("getAllSuccess",e)},function(e){return t("getAllFailure",e)})}},X={getAllSuccess:function(e,t){e.offers=t},getAllFailure:function(e,t){},offerCreateFailure:function(e,t){},offerCreateSuccess:function(e,t){e.offer={}}},Y={namespaced:!0,state:V,actions:W,mutations:X},Z={payment:{},summary:{}},ee={prePayment:function(e,t){var n=e.commit,c=t.offer_id;return new Promise(function(e,t){I.prePayment(c).then(function(t){n("summarySuccess",t),e()},function(e){return n("summaryFailure",e)})})},postPayment:function(e,t){var n=e.dispatch,c=e.commit;I.postPayment(t).then(function(e){c("paymentSuccess",e),p["a"].push("/home"),setTimeout(function(){n("alert/success","Payment successful",{root:!0})})},function(e){return c("paymentFailure",e)})}},te={paymentFailure:function(e,t){},paymentSuccess:function(e,t){e.payment={}},summaryFailure:function(e,t){},summarySuccess:function(e,t){e.summary=t}},ne={namespaced:!0,state:Z,actions:ee,mutations:te};c["default"].use(i["a"]);var ce=new i["a"].Store({modules:{alert:v,account:$,users:Q,offer:Y,payment:ne}}),re={fieldsBagName:"veefields"};c["default"].use(u["a"]),c["default"].use(r["a"],re),new c["default"]({el:"#app",router:p["a"],store:ce,template:"<App/>",components:{App:m}})},"5c0b":function(e,t,n){"use strict";var c=n("b19e"),r=n.n(c);r.a},a18c:function(e,t,n){"use strict";n.d(t,"a",function(){return h});n("6762");var c=n("a026"),r=n("8c4f"),u=function(){return Promise.all([n.e("chunk-40f4cc33"),n.e("chunk-a9adb17c")]).then(n.bind(null,"e8c5"))},a=function(){return n.e("chunk-2d21e1d3").then(n.bind(null,"d3d2"))},o=function(){return n.e("chunk-554cb91d").then(n.bind(null,"913a"))},s=function(){return n.e("chunk-6598cd74").then(n.bind(null,"7eaa"))},i=function(){return n.e("chunk-2d0c4303").then(n.bind(null,"3a87"))},f=function(){return n.e("chunk-2d22c303").then(n.bind(null,"f1bd"))},d=function(){return n.e("chunk-2d0e8c24").then(n.bind(null,"8b48"))},l=function(){return n.e("chunk-2d2131a8").then(n.bind(null,"aaf8"))};c["default"].use(r["a"]);var h=new r["a"]({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/home",name:"Home",component:u,children:[{path:"/offer-create",component:s,name:"Create Offer"},{path:"/payment-summary/:id",component:a,name:"Payment Summary"},{path:"home",name:"offerlist",component:o}]},{path:"/login",component:d,name:"Login"},{path:"/register",component:l,name:"Register"},{path:"/pages",redirect:"/pages/404",name:"Pages",component:{render:function(e){return e("router-view")}},children:[{path:"404",name:"Page404",component:i},{path:"500",name:"Page500",component:f}]}]});h.beforeEach(function(e,t,n){var c=["/login","/register"],r=!c.includes(e.path),u=localStorage.getItem("user");if(r&&!u)return n("/login");n()})},b19e:function(e,t,n){}});
//# sourceMappingURL=app.730dafb2.js.map
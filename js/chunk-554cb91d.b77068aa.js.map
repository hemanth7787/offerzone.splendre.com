{"version":3,"sources":["webpack:///./src/splendre/pages/OfferList.vue?20c5","webpack:///./src/splendre/pages/OfferList.vue?bc4a","webpack:///src/splendre/pages/OfferList.vue","webpack:///./src/splendre/pages/OfferList.vue?2798","webpack:///./src/splendre/pages/OfferList.vue?a220"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OfferList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OfferList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","lg","staticClass","slot","_v","id","per-page","perPage","current-page","currentPage","responsive","hover","items","offers","fields","head-variant","scopedSlots","_u","key","fn","obj","variant","getStatusBadge","item","status","_s","_f","on","click","$event","handlePay","_e","total-rows","rows","aria-controls","model","value","callback","$$v","expression","$router","push","name","staticRenderFns","OfferListvue_type_script_lang_js_","components","data","label","sortable","filters","snakeToTitle","str","split","map","charAt","toUpperCase","substring","join","mounted","listOffers","computed","Object","objectSpread","length","vuex_esm","methods","classmap","running","waiting_to_run","done","waiting_to_pay","offer_id","router","params","pages_OfferListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-554cb91d.b77068aa.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{attrs:{\"lg\":\"7\"}},[_c('b-card',[_c('h6',{staticClass:\"mb-0\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"fa fa-certificate\"}),_vm._v(\" Offer Zone\\n      \")]),_c('b-table',{staticClass:\"mb-0 table-outline\",attrs:{\"id\":\"my-table\",\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"responsive\":\"sm\",\"hover\":\"\",\"items\":_vm.offers,\"fields\":_vm.fields,\"head-variant\":\"light\"},scopedSlots:_vm._u([{key:\"status\",fn:function(obj){return _c('div',{},[_c('b-badge',{attrs:{\"variant\":_vm.getStatusBadge(obj.item.status)}},[_vm._v(_vm._s(_vm._f(\"snakeToTitle\")(obj.item.status)))])],1)}},{key:\"actions\",fn:function(obj){return _c('div',{},[(obj.item.status == 'waiting_to_pay')?_c('b-button',{attrs:{\"variant\":\"outline-info\"},on:{\"click\":function($event){return _vm.handlePay(obj.item.id)}}},[_c('i',{staticClass:\"fa fa-pencil\"}),_vm._v(\" Pay\\n          \")]):_vm._e()],1)}}])}),_c('br'),_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"aria-controls\":\"my-table\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1),_c('b-col',{attrs:{\"lg\":\"4\"}},[_c('b-card',[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.$router.push({name: 'Create Offer'})}}},[_vm._v(\"\\n        Create New Offer\\n        \"),_c('i',{staticClass:\"fa fa-plus\"})])],1),_c('b-card',[_c('h6',{staticClass:\"mb-0\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"fa fa-bar-chart\"}),_vm._v(\" Stat\\n      \")]),_c('p',[_vm._v(\"Offers created : \"+_vm._s(_vm.rows))])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-row>\n    <b-col lg=\"7\">\n      <b-card>\n        <h6 slot=\"header\" class=\"mb-0\">\n          <i class=\"fa fa-certificate\"></i> Offer Zone\n        </h6>\n\n        <b-table\n          id=\"my-table\"\n          :per-page=\"perPage\"\n          :current-page=\"currentPage\"\n          class=\"mb-0 table-outline\"\n          responsive=\"sm\"\n          hover\n          :items=\"offers\"\n          :fields=\"fields\"\n          head-variant=\"light\"\n        >\n          <!-- need below template for asset name -->\n          <!-- <div slot=\"name\" slot-scope=\"item\">\n          <div>{{item.value}}</div>\n          <div class=\"small text-muted\">\n            <span>\n              <template v-if=\"item.value.new\">New</template>\n              <template v-else>Location</template>\n            </span> | Aspect: {{item.item.aspect_ratio}}\n          </div>\n          </div>-->\n\n          <!-- <div slot=\"usage\" slot-scope=\"item\">\n          <div class=\"clearfix\">\n            <div class=\"float-left\">\n              <strong>{{item.value.value}}%</strong>\n            </div>\n            <div class=\"float-right\">\n              <small class=\"text-muted\">{{item.value.period}}</small>\n            </div>\n          </div>\n          <b-progress height={} class=\"progress-xs\" v-model=\"item.value.value\" :variant=\"variant(item.value.value)\"></b-progress>\n          </div>-->\n\n          <div slot=\"status\" slot-scope=\"obj\">\n            <b-badge :variant=\"getStatusBadge(obj.item.status)\">{{obj.item.status | snakeToTitle}}</b-badge>\n          </div>\n\n          <div slot=\"actions\" slot-scope=\"obj\">\n            <b-button v-if=\"obj.item.status == 'waiting_to_pay'\"\n              @click=\"handlePay(obj.item.id)\"\n              variant=\"outline-info\"\n            >\n              <i class=\"fa fa-pencil\"></i> Pay\n            </b-button>\n            <!-- &nbsp;\n            <b-button variant=\"outline-primary\"><i class=\"fa fa-files-o\"></i> Copy</b-button>-->\n          </div>\n        </b-table>\n        <br />\n        <b-pagination\n          v-model=\"currentPage\"\n          :total-rows=\"rows\"\n          :per-page=\"perPage\"\n          aria-controls=\"my-table\"\n        ></b-pagination>\n      </b-card>\n    </b-col>\n    <b-col lg=\"4\">\n      <b-card>\n        <b-button @click=\"$router.push({name: 'Create Offer'})\" variant=\"success\">\n          Create New Offer\n          <i class=\"fa fa-plus\"></i>\n        </b-button>\n      </b-card>\n\n      <b-card>\n        <h6 slot=\"header\" class=\"mb-0\">\n          <i class=\"fa fa-bar-chart\"></i> Stat\n        </h6>\n        <p>Offers created : {{rows}}</p>\n      </b-card>\n    </b-col>\n  </b-row>\n  <!--/.row-->\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport { router } from '../../router';\nexport default {\n  name: \"OfferList\",\n  components: {\n    // cTable,\n    // Callout,\n    // CalloutChartExample\n  },\n\n  data: () => {\n    return {\n      perPage: 5,\n      currentPage: 1,\n      fields: [\n        { key: \"name\", label: \"Offer\", sortable: true },\n        { key: \"status\" },\n        { key: \"start_date\" },\n        { key: \"end_date\" },\n        { key: \"actions\" }\n      ]\n    };\n  },\n\n  filters: {\n    snakeToTitle: function(str) {\n      return str\n        .split(\"_\")\n        .map(function(item) {\n          return item.charAt(0).toUpperCase() + item.substring(1);\n        })\n        .join(\" \");\n    }\n  },\n  mounted: function() {\n    this.listOffers();\n  },\n  computed: {\n    rows() {\n      return this.offers.length;\n    },\n    ...mapState(\"offer\", [\"offers\"]),\n    ...mapState(\"payment\", [\"payment\"]),\n  },\n  methods: {\n    getStatusBadge(status) {\n      const classmap = {\n        running: \"success\",\n        waiting_to_run: \"warning\",\n        done: \"info\",\n        waiting_to_pay: \"danger\"\n      };\n      return classmap[status];\n    },\n    ...mapActions(\"offer\", [\"listOffers\"]),\n     handlePay(offer_id){\n      //this.pay({offer_id});\n      router.push({name: 'Payment Summary', params: { id: offer_id }})\n    },\n\n  }\n};\n</script>\n\n<style>\ntd .btn {\n  padding: 0.115rem 0.35rem;\n}\n.table th,\n.table td {\n  padding: 0.45rem;\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OfferList.vue?vue&type=template&id=4e7a2fd3&\"\nimport script from \"./OfferList.vue?vue&type=script&lang=js&\"\nexport * from \"./OfferList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OfferList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}